--
-- PostgreSQL database dump
--

-- Dumped from database version 9.6.24
-- Dumped by pg_dump version 12.12 (Ubuntu 12.12-0ubuntu0.20.04.1)

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

SET default_tablespace = '';

--
-- Name: play_evolutions; Type: TABLE; Schema: public; Owner: genissqladmin
--

CREATE TABLE public.play_evolutions (
    id integer NOT NULL,
    hash character varying(255) NOT NULL,
    applied_at timestamp without time zone NOT NULL,
    apply_script text,
    revert_script text,
    state character varying(255),
    last_problem text
);


ALTER TABLE public.play_evolutions OWNER TO genissqladmin;

--
-- Data for Name: play_evolutions; Type: TABLE DATA; Schema: public; Owner: genissqladmin
--

COPY public.play_evolutions (id, hash, applied_at, apply_script, revert_script, state, last_problem) FROM stdin;
1	4477471a58a40e03f04c16181bea81b9ed5ccac9	2022-10-22 00:00:00	CREATE SCHEMA "APP";\n\nCREATE SCHEMA "STASH";\n\nCREATE TABLE   "STASH"."PROFILE_DATA"\n(\n"ID" bigserial,\n"CATEGORY" character varying(50) NOT NULL,\n"GLOBAL_CODE" character varying(100) NOT NULL,\n"INTERNAL_CODE" character varying(100) NOT NULL,\n"DESCRIPTION" character varying(1024),\n"ATTORNEY" character varying(100),\n"BIO_MATERIAL_TYPE" character varying(50),\n"COURT" character varying(100),\n"CRIME_INVOLVED" character varying(50),\n"CRIME_TYPE" character varying(50),\n"CRIMINAL_CASE" character varying(50),\n"INTERNAL_SAMPLE_CODE" character varying(50) NOT NULL,\n"ASSIGNEE" character varying(50) NOT NULL,\n"LABORATORY" character varying(50) NOT NULL,\n"PROFILE_EXPIRATION_DATE" date,\n"RESPONSIBLE_GENETICIST" character varying(50),\n"SAMPLE_DATE" date,\n"SAMPLE_ENTRY_DATE" date,\n"DELETED" boolean NOT NULL DEFAULT false,\n"DELETED_SOLICITOR" character varying(100),\n"DELETED_MOTIVE" character varying(8192),\nCONSTRAINT "STASH_PROFILE_DATA_ID_PKEY" PRIMARY KEY ("ID"),\nCONSTRAINT "STASH_PROFILE_DATA_GLOBAL_CODE_KEY" UNIQUE ("GLOBAL_CODE")\n);\n\nCREATE TABLE "STASH"."PROFILE_DATA_FILIATION"\n(\n"ID" bigserial,\n"PROFILE_DATA" character varying(100) NOT NULL,\n"FULL_NAME" character varying(150) NOT NULL,\n"NICKNAME" character varying(150) NOT NULL,\n"BIRTHDAY" date NOT NULL,\n"BIRTH_PLACE" character varying(100) NOT NULL,\n"NATIONALITY" character varying(50) NOT NULL,\n"IDENTIFICATION" character varying(100) NOT NULL,\n"IDENTIFICATION_ISSUING_AUTHORITY" character varying(100) NOT NULL,\n"ADDRESS" character varying(100) NOT NULL,\nCONSTRAINT "STASH_PROFILE_DATA_FILIATION_PK" PRIMARY KEY ("ID"),\nCONSTRAINT "STASHPROFILE_DATA_FILIATION_CODE_KEY" UNIQUE ("PROFILE_DATA"),\nCONSTRAINT "STASHPROFILE_DATA_FILIATION_FK" FOREIGN KEY ("PROFILE_DATA")\nREFERENCES "STASH"."PROFILE_DATA" ("GLOBAL_CODE")\nON UPDATE NO ACTION ON DELETE NO ACTION\n);\n\nCREATE TABLE "STASH"."PROFILE_DATA_FILIATION_RESOURCES"\n(\n"ID" bigserial,\n"PROFILE_DATA_FILIATION" character varying(100) NOT NULL,\n"RESOURCE" oid NOT NULL,\n"RESOURCE_TYPE" character varying(1) NOT NULL,\nCONSTRAINT "STASH_PROFILE_DATA_FILIATION_RESOURCE_PK" PRIMARY KEY ("ID" ),\nCONSTRAINT "STASH_PROFILE_DATA_FILIATION_RESOURSE_FK" FOREIGN KEY ("PROFILE_DATA_FILIATION")\nREFERENCES "STASH"."PROFILE_DATA_FILIATION" ("PROFILE_DATA")\nON UPDATE NO ACTION ON DELETE NO ACTION\n);\n\nCREATE TABLE   "APP"."GROUP"\n(\n"ID" character varying(50) NOT NULL,\n"NAME" character varying(100) NOT NULL,\n"DESCRIPTION" character varying(1024),\nCONSTRAINT "GROUP_ID_PKEY" PRIMARY KEY ("ID"),\nCONSTRAINT "GROUP_NAME_KEY" UNIQUE ("NAME")\n);\n\nCOMMENT ON TABLE   "APP"."GROUP"\nIS 'Categories are agrupated by groups';\n\nCREATE TABLE   "APP"."CATEGORY"\n(\n"ID" character varying(50) NOT NULL,\n"GROUP" character varying(50) NOT NULL,\n"NAME" character varying(100) NOT NULL,\n"DESCRIPTION" character varying(1024),\n"MIXTURE" boolean NOT NULL DEFAULT false,\n"COLLECTION_URI" character varying(500) NOT NULL DEFAULT '',\n"DRAFT_URI" character varying(500) NOT NULL DEFAULT '',\n"FILIATION_DATA" boolean NOT NULL DEFAULT false,\n"REPLICATE" boolean NOT NULL DEFAULT true,\n"PEDIGREE_ASSOCIATION" boolean NOT NULL DEFAULT false,\n"MIN_LOCUS_PER_PROFILE" character varying(1024) NOT NULL DEFAULT 'K',\n"MAX_SHORTAGE_DEVIATED_LOCI" character varying(1024) NOT NULL DEFAULT '0',\n"MAX_OVERAGE_DEVIATED_LOCI" character varying(1024) NOT NULL DEFAULT '0',\nCONSTRAINT "CATEGORY_ID_PKEY" PRIMARY KEY ("ID"),\nCONSTRAINT "CATEGORY_GROUP_FKEY" FOREIGN KEY ("GROUP")\nREFERENCES "APP"."GROUP" ("ID")\nON UPDATE CASCADE ON DELETE RESTRICT\n);\n\nCOMMENT ON TABLE   "APP"."CATEGORY"\nIS 'Bilogic samples belogs to certain Category which defines specific bussines rules';\n\nCREATE TABLE "APP"."CATEGORY_ALIAS"\n(\n"ALIAS" character varying(100) NOT NULL,\n"CATEGORY" character varying(50) NOT NULL,\nCONSTRAINT "CATEGORY_ALIAS_PK" PRIMARY KEY ("ALIAS"),\nCONSTRAINT "CATEGORY_ALIAS_FK" FOREIGN KEY ("CATEGORY")\nREFERENCES "APP"."CATEGORY" ("ID")\nON UPDATE CASCADE ON DELETE RESTRICT\n);\n\nCREATE TABLE   "APP"."CATEGORY_ASSOCIATION"\n(\n"CATEGORY" character varying(50) NOT NULL,\n"CATEGORY_RELATED" character varying(50) NOT NULL,\n"MISMATCHS" int NOT NULL DEFAULT 0,\nCONSTRAINT "CATEGORY_ASSOCIATION_PKEY" PRIMARY KEY ("CATEGORY", "CATEGORY_RELATED"),\nCONSTRAINT "CATEGORY_ASSOCIATION_CATEGORY_FKEY" FOREIGN KEY ("CATEGORY")\nREFERENCES "APP"."CATEGORY" ("ID")\nON UPDATE CASCADE ON DELETE RESTRICT,\nCONSTRAINT "CATEGORY_ASSOCIATION_CATEGORY_RELATED_FKEY" FOREIGN KEY ("CATEGORY_RELATED")\nREFERENCES "APP"."CATEGORY" ("ID")\nON UPDATE CASCADE ON DELETE RESTRICT\n);\n\nCREATE TABLE   "APP"."CATEGORY_MATCHING"\n(\n"CATEGORY" character varying(50) NOT NULL,\n"CATEGORY_RELATED" character varying(50) NOT NULL,\n"PRIORITY" int NOT NULL DEFAULT 1,\n"MINIMUM_STRINGENCY" character varying(50) NULL,\n"FAIL_ON_MATCH" boolean NULL DEFAULT false,\n"FORWARD_TO_UPPER" boolean NULL DEFAULT false,\n"MATCHING_ALGORITHM" character varying(1024) NOT NULL DEFAULT 'ENFSI',\n"MIN_LOCUS_MATCH" int NOT NULL DEFAULT 10,\n"MISMATCHS_ALLOWED" int NOT NULL DEFAULT 0,\nCONSTRAINT "CATEGORY_MATCHING_PKEY" PRIMARY KEY ("CATEGORY", "CATEGORY_RELATED"),\nCONSTRAINT "CATEGORY_MATCHING_CATEGORY_FKEY" FOREIGN KEY ("CATEGORY")\nREFERENCES "APP"."CATEGORY" ("ID")\nON UPDATE CASCADE ON DELETE RESTRICT,\nCONSTRAINT "CATEGORY_MATCHING_CATEGORY_RELATED_FKEY" FOREIGN KEY ("CATEGORY_RELATED")\nREFERENCES "APP"."CATEGORY" ("ID")\nON UPDATE CASCADE ON DELETE RESTRICT\n);\n\nCREATE TABLE "APP"."BATCH_PROTO_PROFILE"\n(\n"ID" bigserial NOT NULL,\n"USER" character varying(50) NOT NULL,\n"DATE" date NOT NULL,\nCONSTRAINT "PROTO_PROFILE_BATCH_PK" PRIMARY KEY ("ID")\n);\n\nCREATE SEQUENCE "APP"."PROTO_PROFILE_DATA_GLOBAL_CODE_seq"\nINCREMENT 1\nMINVALUE 1\nMAXVALUE 9223372036854775807\nSTART 1100\nCACHE 1;\n\nCREATE TABLE "APP"."PROTO_PROFILE"\n(\n"ID" bigserial NOT NULL,\n"SAMPLE_NAME" character varying(100) NOT NULL,\n"ID_BATCH" bigint NOT NULL,\n"ASSIGNEE" character varying(100) NOT NULL,\n"CATEGORY" character varying(100) NOT NULL,\n"STATUS" character varying(150) NOT NULL,\n"PANEL" character varying(150) NOT NULL,\n"ERRORS" character varying(500),\n"GENOTYPIFICATIONS" character varying(2000) NOT NULL,\n"MATCHING_RULES" character varying(2000) NOT NULL,\n"MISMATCHS" character varying(2000) NOT NULL,\n"REJECT_MOTIVE" character varying(2000),\n"PREEXISTENCE" character varying(100),\n"GENEMAPPER_LINE" character varying(50000) NOT NULL,\nCONSTRAINT "PROTO_PROFILE_PK" PRIMARY KEY ("ID"),\nCONSTRAINT "PROTO_PROFILE_FK" FOREIGN KEY ("ID_BATCH")\nREFERENCES "APP"."BATCH_PROTO_PROFILE" ("ID")\nON UPDATE NO ACTION ON DELETE NO ACTION\n);\n\n\nCREATE TABLE "APP"."COUNTRY"\n(\n"CODE" character varying(2) NOT NULL,\n"NAME" character varying(50) NOT NULL,\nCONSTRAINT "COUNTRY_PK" PRIMARY KEY ("CODE")\n);\n\nCREATE TABLE "APP"."PROVINCE"\n(\n"CODE" character varying(2) NOT NULL,\n"NAME" character varying(50) NOT NULL,\n"COUNTRY" character varying(2) NOT NULL,\nCONSTRAINT "PROV_PK" PRIMARY KEY ("CODE"),\nCONSTRAINT "COUNTRY_PROV_FK" FOREIGN KEY ("COUNTRY") REFERENCES "APP"."COUNTRY" ("CODE") ON UPDATE NO ACTION ON DELETE NO ACTION\n);\n\nCREATE TABLE "APP"."LABORATORY"\n(\n"CODE_NAME" character varying(20) NOT NULL,\n"NAME" character varying(100) NOT NULL,\n"COUNTRY" character varying(2) NOT NULL,\n"PROVINCE" character varying(1) NOT NULL,\n"ADDRESS" character varying(100) NOT NULL,\n"TELEPHONE" character varying(50) NOT NULL,\n"CONTACT_EMAIL" character varying(100) NOT NULL,\n"DROP_IN" double precision NOT NULL DEFAULT 0,\n"DROP_OUT" double precision NOT NULL DEFAULT 0,\nCONSTRAINT "LAB_PK" PRIMARY KEY ("CODE_NAME" ),\nCONSTRAINT "COUNTRY_FK" FOREIGN KEY ("COUNTRY") REFERENCES "APP"."COUNTRY" ("CODE") ON UPDATE NO ACTION ON DELETE NO ACTION ,\nCONSTRAINT "PROVINCE_FK" FOREIGN KEY ("PROVINCE") REFERENCES "APP"."PROVINCE" ("CODE") ON UPDATE NO ACTION ON DELETE NO ACTION\n);\n\nCREATE TABLE "APP"."GENETICIST"\n(\n"ID" bigserial,\n"LABORATORY" character varying(20) NOT NULL,\n"NAME" character varying(100) NOT NULL,\n"LASTNAME" character varying(100) NOT NULL,\n"EMAIL" character varying(100) NOT NULL,\n"TELEPHONE" character varying(100) NOT NULL,\nCONSTRAINT "GENTICIST_PK" PRIMARY KEY ("ID"),\nCONSTRAINT "GENETICIST_UNIQUE" UNIQUE ("LABORATORY" , "NAME", "LASTNAME" ),\nCONSTRAINT "GENTICIST_LAB_FK" FOREIGN KEY ("LABORATORY") REFERENCES "APP"."LABORATORY" ("CODE_NAME") ON UPDATE NO ACTION ON DELETE NO ACTION\n);\n\nCREATE TABLE "APP"."POPULATION_BASE_FREQUENCY_NAME"\n(\n"ID" bigserial,\n"NAME" character varying(50) NOT NULL,\n"THETA" double precision NOT NULL,\n"MODEL" character varying(50) NOT NULL,\n"ACTIVE" boolean NOT NULL,\n"DEFAULT" boolean NOT NULL,\nCONSTRAINT "POPULATION_BASE_FREQUENCY_NAME_PK" PRIMARY KEY ("ID"),\nCONSTRAINT "POPULATION_BASE_FREQUENCY_UNQ" UNIQUE ("NAME")\n);\n\nCREATE TABLE "APP"."POPULATION_BASE_FREQUENCY"\n(\n"ID" bigserial,\n"BASE_NAME" bigint NOT NULL,\n"MARKER" character varying(50) NOT NULL,\n"ALLELE" double precision NOT NULL,\n"FREQUENCY" numeric(10,8) NOT NULL,\nCONSTRAINT "POPULATION_BASE_FREQUENCY_PK" PRIMARY KEY ("ID"),\nCONSTRAINT "POPULATION_BASE_FREQUENCY_FK" FOREIGN KEY ("BASE_NAME")\nREFERENCES "APP"."POPULATION_BASE_FREQUENCY_NAME" ("ID") ON UPDATE NO ACTION ON DELETE NO ACTION\n);\n\nCREATE TABLE "APP"."BIO_MATERIAL_TYPE"\n(\n"ID" character varying(50) NOT NULL,\n"NAME" character varying(100) NOT NULL,\n"DESCRIPTION" character varying(10000),\nCONSTRAINT "BIO_MATERIAL_TYPE_PK" PRIMARY KEY ("ID" )\n);\n\nCOMMENT ON TABLE "APP"."BIO_MATERIAL_TYPE"\nIS 'predefine values for biological material type';\n\nCREATE TABLE   "APP"."PROFILE_DATA"\n(\n"ID" bigserial,\n"CATEGORY" character varying(50) NOT NULL,\n"GLOBAL_CODE" character varying(100) NOT NULL,\n"INTERNAL_CODE" character varying(100) NOT NULL,\n"DESCRIPTION" character varying(1024),\n"ATTORNEY" character varying(100),\n"BIO_MATERIAL_TYPE" character varying(50),\n"COURT" character varying(100),\n"CRIME_INVOLVED" character varying(50),\n"CRIME_TYPE" character varying(50),\n"CRIMINAL_CASE" character varying(50),\n"INTERNAL_SAMPLE_CODE" character varying(50) NOT NULL,\n"ASSIGNEE" character varying(50) NOT NULL,\n"LABORATORY" character varying(50) NOT NULL,\n"PROFILE_EXPIRATION_DATE" date,\n"RESPONSIBLE_GENETICIST" character varying(50),\n"SAMPLE_DATE" date,\n"SAMPLE_ENTRY_DATE" date,\n"DELETED" boolean NOT NULL DEFAULT false,\n"DELETED_SOLICITOR" character varying(100),\n"DELETED_MOTIVE" character varying(8192),\nCONSTRAINT "PROFILE_DATA_ID_PKEY" PRIMARY KEY ("ID"),\nCONSTRAINT "PROFILE_DATA_GLOBAL_CODE_KEY" UNIQUE ("GLOBAL_CODE"),\nCONSTRAINT "PROFILE_DATA_INTERNAL_SAMPLE_CODE_KEY" UNIQUE ("INTERNAL_SAMPLE_CODE"),\nCONSTRAINT "PROFILE_DATA_BIO_MATERIAL_TYPE" FOREIGN KEY ("BIO_MATERIAL_TYPE")\nREFERENCES "APP"."BIO_MATERIAL_TYPE" ("ID")\nON UPDATE CASCADE ON DELETE RESTRICT,\nCONSTRAINT "PROFILE_DATA_CATEGORY_FKEY" FOREIGN KEY ("CATEGORY")\nREFERENCES "APP"."CATEGORY" ("ID")\nON UPDATE CASCADE ON DELETE RESTRICT\n);\n\nCOMMENT ON TABLE   "APP"."PROFILE_DATA"\nIS 'Provenance data about the biological sample to be analysed. Each biological sample is related to a court case';\n\nCREATE TABLE "APP"."PROFILE_DATA_FILIATION"\n(\n"ID" bigserial,\n"PROFILE_DATA" character varying(100) NOT NULL,\n"FULL_NAME" character varying(150) NOT NULL,\n"NICKNAME" character varying(150) NOT NULL,\n"BIRTHDAY" date NOT NULL,\n"BIRTH_PLACE" character varying(100) NOT NULL,\n"NATIONALITY" character varying(50) NOT NULL,\n"IDENTIFICATION" character varying(100) NOT NULL,\n"IDENTIFICATION_ISSUING_AUTHORITY" character varying(100) NOT NULL,\n"ADDRESS" character varying(100) NOT NULL,\nCONSTRAINT "PROFILE_DATA_FILIATION_PK" PRIMARY KEY ("ID"),\nCONSTRAINT "PROFILE_DATA_FILIATION_CODE_KEY" UNIQUE ("PROFILE_DATA"),\nCONSTRAINT "PROFILE_DATA_FILIATION_FK" FOREIGN KEY ("PROFILE_DATA")\nREFERENCES "APP"."PROFILE_DATA" ("GLOBAL_CODE")\nON UPDATE NO ACTION ON DELETE NO ACTION\n);\n\nCREATE TABLE "APP"."PROFILE_DATA_FILIATION_RESOURCES"\n(\n"ID" bigserial,\n"PROFILE_DATA_FILIATION" character varying(100) NOT NULL,\n"RESOURCE" oid NOT NULL,\n"RESOURCE_TYPE" character varying(1) NOT NULL,\nCONSTRAINT "PROFILE_DATA_FILIATION_RESOURCE_PK" PRIMARY KEY ("ID" ),\nCONSTRAINT "PROFILE_DATA_FILIATION_RESOURSE_FK" FOREIGN KEY ("PROFILE_DATA_FILIATION")\nREFERENCES "APP"."PROFILE_DATA_FILIATION" ("PROFILE_DATA")\nON UPDATE NO ACTION ON DELETE NO ACTION\n);\n\nCREATE SEQUENCE "APP"."PROFILE_DATA_GLOBAL_CODE_seq"\nINCREMENT 1\nMINVALUE 1100\nMAXVALUE 9223372036854775807\nSTART 1100\nCACHE 1;\n\nCOMMENT ON SEQUENCE "APP"."PROFILE_DATA_GLOBAL_CODE_seq"\nIS 'Profile data Global code is formed by a prefix plus a unique value determined by this sequence';\n\nCREATE TABLE   "APP"."STRKIT"\n(\n"ID" character varying(50) NOT NULL,\n"NAME" character varying(100) NOT NULL,\n"TYPE" character varying(20) NOT NULL,\n"LOCI_QTY" integer NOT NULL,\n"REPRESENTATIVE_PARAMETER" integer NOT NULL,\nCONSTRAINT "STRKIT_ID_PKEY" PRIMARY KEY ("ID")\n);\n\nCOMMENT ON TABLE   "APP"."STRKIT"\nIS 'Short Tandem Repeat DNA Kit';\n\nCREATE TABLE "APP"."STRKIT_ALIAS"\n(\n"KIT" character varying(50) NOT NULL,\n"ALIAS" character varying(100) NOT NULL,\nCONSTRAINT "STRKIT_ALIAS_PK" PRIMARY KEY ("ALIAS"),\nCONSTRAINT "STRKIT_ALIAS_FK" FOREIGN KEY ("KIT") REFERENCES "APP"."STRKIT" ("ID") ON UPDATE NO ACTION ON DELETE NO ACTION\n);\n\nCREATE TABLE   "APP"."LOCUS"\n(\n"ID" character varying(50) NOT NULL,\n"NAME" character varying(100) NOT NULL,\n"CHROMOSOME" character varying(2) NULL,\n"MINIMUM_ALLELES_QTY" integer NOT NULL DEFAULT 2,\n"MAXIMUM_ALLELES_QTY" integer NOT NULL DEFAULT 2,\n"CONTRIBUTORS_AFFECTED" boolean NOT NULL DEFAULT true,\nCONSTRAINT "LOCUS_ID_PKEY" PRIMARY KEY ("ID")\n);\n\nCOMMENT ON TABLE   "APP"."LOCUS"\nIS 'Position in the DNA Chromosome of the mollecular markers';\n\nCREATE TABLE "APP"."LOCUS_ALIAS"\n(\n"ALIAS" character varying(100) NOT NULL,\n"MARKER" character varying(50) NOT NULL,\nCONSTRAINT "LOCUS_ALIAS_PK" PRIMARY KEY ("ALIAS"),\nCONSTRAINT "LOCUS_ALIAS_FK" FOREIGN KEY ("MARKER") REFERENCES "APP"."LOCUS" ("ID") ON UPDATE NO ACTION ON DELETE NO ACTION\n);\n\n\nCREATE TABLE   "APP"."STRKIT_LOCUS"\n(\n"STRKIT" character varying(50) NOT NULL,\n"LOCUS" character varying(50) NOT NULL,\n"FLUOROPHORE" character varying(10) NULL,\n"ORDER" int NULL,\nCONSTRAINT "STRKIT_LOCUS_PKEY" PRIMARY KEY("STRKIT", "LOCUS"),\nCONSTRAINT "STRKIT_LOCUS_STRKITS_FKEY" FOREIGN KEY ("STRKIT") REFERENCES "APP"."STRKIT" ("ID") ON UPDATE CASCADE ON DELETE RESTRICT,\nCONSTRAINT "STRKIT_LOCUS_LOCUS_FKEY" FOREIGN KEY ("LOCUS") REFERENCES "APP"."LOCUS" ("ID") ON UPDATE CASCADE ON DELETE RESTRICT\n);\n\nCOMMENT ON TABLE   "APP"."STRKIT_LOCUS"\nIS 'Stablishes which STR kit works for which locus';\n\nCREATE TABLE "APP"."CRIME_TYPE"\n(\n"ID" character varying(50) NOT NULL,\n"NAME" character varying(100) NOT NULL,\n"DESCRIPTION" character varying(1024),\nCONSTRAINT "CRIME_TYPE_ID_PKEY" PRIMARY KEY ("ID" ),\nCONSTRAINT "CRIME_TYPE_NAME_KEY" UNIQUE ("NAME" )\n);\n\nCREATE TABLE "APP"."CRIME_INVOLVED"\n(\n"ID" character varying(50) NOT NULL,\n"CRIME_TYPE" character varying(50) NOT NULL,\n"NAME" character varying(100) NOT NULL,\n"DESCRIPTION" character varying(1024),\nCONSTRAINT "CRIME_INVOLVED_ID_PKEY" PRIMARY KEY ("ID" ),\nCONSTRAINT "CRIME_INVOLVED_TYPE_FKEY" FOREIGN KEY ("CRIME_TYPE")\nREFERENCES "APP"."CRIME_TYPE" ("ID")\nON UPDATE CASCADE ON DELETE RESTRICT,\nCONSTRAINT "CRIME_TYPE_INVOLVED_KEY" UNIQUE ("ID" , "CRIME_TYPE" )\n);\n\nCREATE TABLE   "APP"."MITOCHONDRIAL_RCRS"\n(\n"POSITION" int NOT NULL,\n"BASE" character varying(1) NOT NULL,\nCONSTRAINT "MITOCHONDRIAL_RCRS_PKEY" PRIMARY KEY ("POSITION")\n);\n\nCOMMENT ON TABLE   "APP"."CATEGORY_MATCHING"\nIS 'Revised Cambridge Reference Sequence (rCRS) for mitochrondial match. NCBI Reference Sequence: NC_012920.1';\n\nCREATE TABLE "APP"."COURT_CASE"\n(\n"ID" bigserial,\n"ATTORNEY" character varying(100),\n"COURT" character varying(100),\n"ASSIGNEE" character varying(50) NOT NULL,\n"INTERNAL_SAMPLE_CODE" character varying(50) NOT NULL,\n"CRIME_INVOLVED" character varying(50),\n"CRIME_TYPE" character varying(50),\n"CRIMINAL_CASE" character varying(50),\n"DELETED" boolean NOT NULL DEFAULT false,\n"FIRSTNAME" character varying(100),\n"LASTNAME" character varying(100),\n"SEX" character varying(50),\n"DATE_OF_BIRTH" date,\n"NATIONALITY" character varying(50),\n"IDENTIFICATION" character varying(50),\n"HEIGHT" character varying(50),\n"WEIGHT" character varying(50),\n"HAIRCOLOR" character varying(50),\n"SKINCOLOR" character varying(50),\n"CLOTHING" character varying(50),\nCONSTRAINT "COURT_CASE_PK" PRIMARY KEY ("ID"),\nCONSTRAINT "COURT_CASE_UNQ_INTERNAL_SAMPLE_CODE" UNIQUE ("INTERNAL_SAMPLE_CODE")\n);\n\nCREATE TABLE "APP"."PEDIGREE"\n(\n"ID" bigserial NOT NULL,\n"NAME" character varying(25) NOT NULL,\n"DESCRIPTION" character varying(250),\n"COURT_CASE" bigint NOT NULL,\nCONSTRAINT "PEDIGREE_COURT_CASE_FK" FOREIGN KEY ("COURT_CASE")\nREFERENCES "APP"."COURT_CASE" ("ID")\nON UPDATE NO ACTION ON DELETE NO ACTION,\nCONSTRAINT "PEDIGREE_PK" PRIMARY KEY ("ID"),\nCONSTRAINT "PEDIGREE_NAME_UNQ" UNIQUE ("NAME", "COURT_CASE")\n);\n\n\nCREATE TABLE "APP"."INDIVIDUAL"\n(\n"ID" bigserial NOT NULL,\n"PEDIGREE" bigint NOT NULL,\n"ALIAS" character varying(3) NOT NULL,\n"FATHER_ID" character varying(3),\n"MOTHER_ID" character varying(3),\n"SEX" character varying(10) NOT NULL,\n"GLOBAL_CODE" character varying(25),\n"UNKNOWN" boolean NOT NULL DEFAULT false,\nCONSTRAINT "INDIVIDUAL_PK" PRIMARY KEY ("ID", "PEDIGREE"),\n--  CONSTRAINT "FATHER_FK" FOREIGN KEY ("FATHER_ID", "PEDIGREE")\n--      REFERENCES "APP"."INDIVIDUAL" ("ALIAS", "PEDIGREE")\n--      ON UPDATE NO ACTION ON DELETE NO ACTION,\nCONSTRAINT "GLOBAL_CODE_FK" FOREIGN KEY ("GLOBAL_CODE")\nREFERENCES "APP"."PROFILE_DATA" ("GLOBAL_CODE")\nON UPDATE NO ACTION ON DELETE NO ACTION,\n--  CONSTRAINT "MOTHER_FK" FOREIGN KEY ("MOTHER_ID", "PEDIGREE")\n--      REFERENCES "APP"."INDIVIDUAL" ("ALIAS", "PEDIGREE")\n--      ON UPDATE NO ACTION ON DELETE NO ACTION,\nCONSTRAINT "PEDIGREE_FK" FOREIGN KEY ("PEDIGREE")\nREFERENCES "APP"."PEDIGREE" ("ID")\nON UPDATE NO ACTION ON DELETE NO ACTION,\nCONSTRAINT "ALIAS_PEDIGREE_UK" UNIQUE ("ALIAS", "PEDIGREE")\n);\n\nCREATE TABLE "APP"."COURT_CASE_PROFILES"\n(\n"COURT_CASE" bigint NOT NULL,\n"GLOBAL_CODE" character varying(100)  NOT NULL,\nCONSTRAINT "COURT_CASE_PROFILES_PK" PRIMARY KEY ("COURT_CASE", "GLOBAL_CODE"),\nCONSTRAINT "PROFILES_FK" FOREIGN KEY ("GLOBAL_CODE") REFERENCES "APP"."PROFILE_DATA" ("GLOBAL_CODE") ON UPDATE NO ACTION ON DELETE NO ACTION\n);	DROP SCHEMA "APP" CASCADE;\nDROP SCHEMA "STASH" CASCADE;	applied	
2	9ca63781a514da185f8a15a2da9bdc49f2c121b7	2022-10-22 00:00:00	ALTER TABLE "APP"."PROTO_PROFILE" ALTER  COLUMN "ERRORS" TYPE TEXT;\nALTER TABLE "APP"."PROTO_PROFILE" ALTER  COLUMN "REJECT_MOTIVE" TYPE TEXT;\nALTER TABLE "APP"."PROTO_PROFILE" ALTER  COLUMN "MATCHING_RULES" TYPE TEXT;\nALTER TABLE "APP"."PROTO_PROFILE" ALTER  COLUMN "MISMATCHS" TYPE TEXT;\nALTER TABLE "APP"."PROTO_PROFILE" ALTER  COLUMN "GENOTYPIFICATIONS" TYPE TEXT;\n\nALTER TABLE "APP"."CATEGORY" DROP COLUMN "MIXTURE";\nALTER TABLE "APP"."CATEGORY" ADD COLUMN "IS_REFERENCE" boolean NOT NULL default true;\n\nALTER TABLE "APP"."CATEGORY_MATCHING" DROP CONSTRAINT "CATEGORY_MATCHING_CATEGORY_FKEY";\nALTER TABLE "APP"."CATEGORY_MATCHING" DROP CONSTRAINT "CATEGORY_MATCHING_PKEY";\nALTER TABLE "APP"."CATEGORY_MATCHING" ADD CONSTRAINT "CATEGORY_MATCHING_CATEGORY_FKEY" FOREIGN KEY ("CATEGORY")\nREFERENCES "APP"."CATEGORY" ("ID")\nON UPDATE CASCADE ON DELETE RESTRICT;\nALTER TABLE "APP"."CATEGORY_MATCHING" ADD CONSTRAINT "CATEGORY_MATCHING_PKEY" PRIMARY KEY ("CATEGORY", "CATEGORY_RELATED", "MATCHING_ALGORITHM");	ALTER TABLE "APP"."PROTO_PROFILE" ALTER  COLUMN "ERRORS" TYPE character varying(500);\nALTER TABLE "APP"."PROTO_PROFILE" ALTER  COLUMN "REJECT_MOTIVE" TYPE character varying(2000);\nALTER TABLE "APP"."PROTO_PROFILE" ALTER  COLUMN "MATCHING_RULES" TYPE character varying(2000);\nALTER TABLE "APP"."PROTO_PROFILE" ALTER  COLUMN "MISMATCHS" TYPE character varying(2000);\nALTER TABLE "APP"."PROTO_PROFILE" ALTER  COLUMN "GENOTYPIFICATIONS" TYPE character varying(2000);\n\nALTER TABLE "APP"."CATEGORY" ADD COLUMN "MIXTURE" boolean NOT NULL DEFAULT false;\nALTER TABLE "APP"."CATEGORY" DROP COLUMN "IS_REFERENCE";\n\n-- NO ROLLBACK FOR CATEGORY_MATCHING PK	applied	
3	765d9253bf5186fc9153a4b7cbc75dd19c611205	2022-10-22 00:00:00	CREATE TABLE "APP"."NOTIFICATION"\n(\n"ID" bigserial,\n"USER" character varying(50) NOT NULL,\n"KIND" character varying(100) NOT NULL,\n"INFO" character varying(1024) NOT NULL,\n"CREATION_DATE" timestamp NOT NULL,\n"UPDATE_DATE" timestamp,\n"PENDING" boolean NOT NULL,\n"FLAGGED" boolean NOT NULL,\nCONSTRAINT "APP_NOTIFICATION_ID_PKEY" PRIMARY KEY ("ID")\n);	DROP TABLE "APP"."NOTIFICATION";	applied	
4	842c4a91ca6a305b42720bf909b8eefe8f9f0ac8	2022-10-22 00:00:00	-- No se puede crear la secuencia como "smallserial" porque no lo soportan los tests\n\nCREATE SEQUENCE "APP"."ANALYSIS_TYPE_ID_seq";\nCREATE TABLE "APP"."ANALYSIS_TYPE"\n(\n"ID" SMALLINT NOT NULL DEFAULT nextval('"APP"."ANALYSIS_TYPE_ID_seq"'),\n"NAME" character varying(50) NOT NULL,\n"LINKED" boolean NOT NULL default false,\nCONSTRAINT "APP_ANALYSIS_TYPE_ID_PKEY" PRIMARY KEY ("ID")\n);\n\nCREATE TABLE "APP"."LOCUS_LINK"\n(\n"ID" bigserial,\n"LOCUS" character varying(50) NOT NULL,\n"LINK" character varying(50) NOT NULL,\nCONSTRAINT "APP_LOCUS_LINK_ID_PKEY" PRIMARY KEY ("ID"),\nCONSTRAINT "APP_LOCUS_LINK_1_LOCUS_FK" FOREIGN KEY ("LOCUS")\nREFERENCES "APP"."LOCUS" ("ID")\nON UPDATE CASCADE ON DELETE RESTRICT,\nCONSTRAINT "APP_LOCUS_LINK_2_LOCUS_FK" FOREIGN KEY ("LINK")\nREFERENCES "APP"."LOCUS" ("ID")\nON UPDATE CASCADE ON DELETE RESTRICT\n);\n\n-- Agregado de la columna "TYPE" en "LOCUS"\n\nALTER TABLE "APP"."LOCUS" ADD COLUMN "TYPE" smallint;\n\nALTER TABLE "APP"."LOCUS" ADD CONSTRAINT "LOCUS_ANALYSIS_TYPE_FKEY" FOREIGN KEY ("TYPE")\nREFERENCES "APP"."ANALYSIS_TYPE" ("ID")\nON UPDATE CASCADE ON DELETE RESTRICT;\n\nALTER TABLE "APP"."LOCUS" ALTER COLUMN "TYPE" SET NOT NULL;\n\n-- Cambio de la columna "TYPE" en "STRKIT"\n\nALTER TABLE "APP"."STRKIT" ADD COLUMN "TYPE_STRING" character varying(20);\n\nALTER TABLE "APP"."STRKIT" DROP COLUMN "TYPE";\nALTER TABLE "APP"."STRKIT" ADD COLUMN "TYPE" smallint;\n\nALTER TABLE "APP"."STRKIT" ADD CONSTRAINT "STRKIT_ANALYSIS_TYPE_FKEY" FOREIGN KEY ("TYPE")\nREFERENCES "APP"."ANALYSIS_TYPE" ("ID")\nON UPDATE CASCADE ON DELETE RESTRICT;\n\nALTER TABLE "APP"."STRKIT" ALTER COLUMN "TYPE" SET NOT NULL;\nALTER TABLE "APP"."STRKIT" DROP COLUMN "TYPE_STRING";	ALTER TABLE "APP"."STRKIT" DROP CONSTRAINT "STRKIT_ANALYSIS_TYPE_FKEY";\n\nALTER TABLE "APP"."STRKIT" ADD COLUMN "TYPE_ID" smallint;\n\nALTER TABLE "APP"."STRKIT" DROP COLUMN "TYPE";\nALTER TABLE "APP"."STRKIT" ADD COLUMN "TYPE" character varying(20);\n\nALTER TABLE "APP"."STRKIT" ALTER COLUMN "TYPE" SET NOT NULL;\nALTER TABLE "APP"."STRKIT" DROP COLUMN "TYPE_ID";\n\nALTER TABLE "APP"."LOCUS" DROP CONSTRAINT "LOCUS_ANALYSIS_TYPE_FKEY";\nALTER TABLE "APP"."LOCUS" DROP COLUMN "TYPE";\n\nDROP TABLE "APP"."ANALYSIS_TYPE";\nDROP SEQUENCE "APP"."ANALYSIS_TYPE_ID_seq";\n\nDROP TABLE "APP"."LOCUS_LINK";	applied	
30	d4b27825d6e8ad91175013b599001160c4c99c47	2022-10-22 00:00:00	ALTER TABLE "APP"."BATCH_PROTO_PROFILE" ADD COLUMN "ANALYSISTYPE" character varying(50)NOT NULL DEFAULT 'Autosomal';	ALTER TABLE "APP"."BATCH_PROTO_PROFILE" DROP COLUMN "ANALYSISTYPE";	applied	
31	135dc0f1e3249219f18f6a64e51b549fb56d4736	2022-10-22 00:00:00	ALTER TABLE "APP"."CATEGORY" ADD COLUMN "TYPE" SMALLINT NOT NULL DEFAULT '1';	ALTER TABLE "APP"."CATEGORY" DROP COLUMN "TYPE";	applied	
32	a856872dc74b362a558a94f0888e2981d256dd9f	2022-10-22 00:00:00	TRUNCATE "APP"."MUTATION_MODEL_KI";\nALTER TABLE "APP"."MUTATION_MODEL_KI" ALTER COLUMN "KI" TYPE DOUBLE PRECISION;	TRUNCATE "APP"."MUTATION_MODEL_KI";\nALTER TABLE "APP"."MUTATION_MODEL_KI" ALTER COLUMN "KI" TYPE NUMERIC(10, 8);	applied	
33	9b5243672a733d3d9b597433354a5ac0c24e325d	2022-10-22 00:00:00	create table "APP"."PEDCHECK"\n(\n"ID" bigserial,\n"ID_PEDIGREE" bigint NOT NULL,\n"LOCUS" text not null,\n"GLOBAL_CODE" text not null,\nCONSTRAINT "PEDCHECK_PK" PRIMARY KEY ("ID"),\nCONSTRAINT "PEDCHECK_PEDIGREE_FK" FOREIGN KEY ("ID_PEDIGREE") REFERENCES "APP"."PEDIGREE" ("ID")\n);\n\nALTER TABLE "APP"."PEDIGREE" ADD COLUMN "CONSISTENCY_RUN" boolean default false;	DROP TABLE "APP"."PEDCHECK";\nALTER TABLE "APP"."PEDIGREE" DROP COLUMN "CONSISTENCY_RUN";	applied	
34	e621c0f6cbda874709b4a09612fb00739131bbbe	2022-10-22 00:00:00	CREATE TABLE "APP"."TRACE_PEDIGREE"\n(\n"ID" bigserial,\n"PEDIGREE" bigint NOT NULL,\n"USER" character varying(50) NOT NULL,\n"DATE" timestamp NOT NULL,\n"TRACE" character varying NOT NULL,\n"KIND" character varying(100) NOT NULL,\nCONSTRAINT "APP_TRACEP_ID_PKEY" PRIMARY KEY ("ID")\n);	DROP TABLE "APP"."TRACE_PEDIGREE";	applied	
35	76813cc198e1ba37f25211225985639b814ced58	2022-10-22 00:00:00	ALTER TABLE "APP"."MUTATION_MODEL" ADD COLUMN "CANT_SALTOS" BIGINT NOT NULL DEFAULT 1;	ALTER TABLE "APP"."MUTATION_MODEL" DROP COLUMN "CANT_SALTOS";	applied	
5	afaea378fe0ee9982a421e68c14d10eeb431d517	2022-10-22 00:00:00	CREATE TABLE "APP"."CATEGORY_CONFIGURATION"\n(\n"ID" bigserial,\n"CATEGORY" character varying(50) NOT NULL,\n"TYPE" smallint NOT NULL,\n"COLLECTION_URI" character varying(500) NOT NULL DEFAULT '',\n"DRAFT_URI" character varying(500) NOT NULL DEFAULT '',\n"MIN_LOCUS_PER_PROFILE" character varying(1024) NOT NULL DEFAULT 'K',\n"MAX_SHORTAGE_DEVIATED_LOCI" character varying(1024) NOT NULL DEFAULT '0',\n"MAX_OVERAGE_DEVIATED_LOCI" character varying(1024) NOT NULL DEFAULT '0',\nCONSTRAINT "APP_CATEGORY_CONFIGURATION_ID_PKEY" PRIMARY KEY ("ID"),\nCONSTRAINT "APP_CATEGORY_CONFIGURATION_CATEGORY_FK" FOREIGN KEY ("CATEGORY")\nREFERENCES "APP"."CATEGORY" ("ID")\nON UPDATE CASCADE ON DELETE RESTRICT,\nCONSTRAINT "APP_CATEGORY_CONFIGURATION_ANALYSIS_TYPE_FKEY" FOREIGN KEY ("TYPE")\nREFERENCES "APP"."ANALYSIS_TYPE" ("ID")\nON UPDATE CASCADE ON DELETE RESTRICT\n);\n\nALTER TABLE "APP"."CATEGORY"\nDROP COLUMN "COLLECTION_URI";\nALTER TABLE "APP"."CATEGORY"\nDROP COLUMN "DRAFT_URI";\nALTER TABLE "APP"."CATEGORY"\nDROP COLUMN "MIN_LOCUS_PER_PROFILE";\nALTER TABLE "APP"."CATEGORY"\nDROP COLUMN "MAX_SHORTAGE_DEVIATED_LOCI";\nALTER TABLE "APP"."CATEGORY"\nDROP COLUMN "MAX_OVERAGE_DEVIATED_LOCI";\n\nALTER TABLE "APP"."CATEGORY_ASSOCIATION"\nDROP CONSTRAINT "CATEGORY_ASSOCIATION_PKEY";\nALTER TABLE "APP"."CATEGORY_ASSOCIATION"\nADD COLUMN "ID" bigserial;\nALTER TABLE "APP"."CATEGORY_ASSOCIATION"\nADD COLUMN "TYPE" smallint;\nALTER TABLE "APP"."CATEGORY_ASSOCIATION"\nADD CONSTRAINT "CATEGORY_ASSOCIATION_PKEY" PRIMARY KEY ("ID");\nALTER TABLE "APP"."CATEGORY_ASSOCIATION"\nADD CONSTRAINT "APP_CATEGORY_ASSOCIATION_ANALYSIS_TYPE_FKEY" FOREIGN KEY ("TYPE")\nREFERENCES "APP"."ANALYSIS_TYPE" ("ID")\nON UPDATE CASCADE ON DELETE RESTRICT;\n\nALTER TABLE "APP"."CATEGORY_MATCHING"\nDROP CONSTRAINT "CATEGORY_MATCHING_PKEY";\nALTER TABLE "APP"."CATEGORY_MATCHING"\nADD COLUMN "ID" bigserial;\nALTER TABLE "APP"."CATEGORY_MATCHING"\nADD COLUMN "TYPE" smallint;\nALTER TABLE "APP"."CATEGORY_MATCHING"\nADD CONSTRAINT "CATEGORY_MATCHING_PKEY" PRIMARY KEY ("ID");\nALTER TABLE "APP"."CATEGORY_MATCHING"\nADD CONSTRAINT "APP_CATEGORY_MATCHING_ANALYSIS_TYPE_FKEY" FOREIGN KEY ("TYPE")\nREFERENCES "APP"."ANALYSIS_TYPE" ("ID")\nON UPDATE CASCADE ON DELETE RESTRICT;\n\nALTER TABLE "APP"."CATEGORY_ASSOCIATION" ALTER COLUMN "TYPE" SET NOT NULL;\nALTER TABLE "APP"."CATEGORY_MATCHING" ALTER COLUMN "TYPE" SET NOT NULL;	ALTER TABLE "APP"."CATEGORY_ASSOCIATION"\nDROP CONSTRAINT "CATEGORY_ASSOCIATION_PKEY";\nALTER TABLE "APP"."CATEGORY_ASSOCIATION"\nDROP COLUMN "TYPE";\nALTER TABLE "APP"."CATEGORY_ASSOCIATION"\nDROP COLUMN "ID";\nALTER TABLE "APP"."CATEGORY_ASSOCIATION"\nADD CONSTRAINT "CATEGORY_ASSOCIATION_PKEY" PRIMARY KEY ("CATEGORY", "CATEGORY_RELATED");\n\nALTER TABLE "APP"."CATEGORY_MATCHING"\nDROP CONSTRAINT "CATEGORY_MATCHING_PKEY";\nALTER TABLE "APP"."CATEGORY_MATCHING"\nDROP COLUMN "TYPE";\nALTER TABLE "APP"."CATEGORY_MATCHING"\nDROP COLUMN "ID";\nALTER TABLE "APP"."CATEGORY_MATCHING"\nADD CONSTRAINT "CATEGORY_MATCHING_PKEY" PRIMARY KEY ("CATEGORY", "CATEGORY_RELATED", "MATCHING_ALGORITHM");\n\nALTER TABLE "APP"."CATEGORY"\nADD COLUMN "COLLECTION_URI" character varying(500) NOT NULL DEFAULT '';\nALTER TABLE "APP"."CATEGORY"\nADD COLUMN "DRAFT_URI" character varying(500) NOT NULL DEFAULT '';\nALTER TABLE "APP"."CATEGORY"\nADD COLUMN "MIN_LOCUS_PER_PROFILE" character varying(1024) NOT NULL DEFAULT 'K';\nALTER TABLE "APP"."CATEGORY"\nADD COLUMN "MAX_SHORTAGE_DEVIATED_LOCI" character varying(1024) NOT NULL DEFAULT '0';\nALTER TABLE "APP"."CATEGORY"\nADD COLUMN "MAX_OVERAGE_DEVIATED_LOCI" character varying(1024) NOT NULL DEFAULT '0';\n\nDROP TABLE "APP"."CATEGORY_CONFIGURATION";	applied	
6	f9916bfeec44234f4638cdec7c6ed43fcdbd1d3b	2022-10-22 00:00:00	ALTER TABLE "APP"."ANALYSIS_TYPE" DROP COLUMN "LINKED";\n\nALTER TABLE "APP"."LOCUS" DROP COLUMN "CONTRIBUTORS_AFFECTED";\n\nALTER TABLE "APP"."LOCUS_LINK" ADD COLUMN "FACTOR" double precision DEFAULT 0;\nALTER TABLE "APP"."LOCUS_LINK" ADD COLUMN "DISTANCE" double precision DEFAULT 0;\n\nALTER TABLE "APP"."COURT_CASE" DROP COLUMN "DELETED";\nALTER TABLE "APP"."COURT_CASE" ADD COLUMN "STATUS" CHARACTER VARYING(50) NOT NULL DEFAULT 'UnderConstruction';\n\nALTER TABLE "APP"."CATEGORY_CONFIGURATION" DROP COLUMN "MAX_SHORTAGE_DEVIATED_LOCI";\nALTER TABLE "APP"."CATEGORY_CONFIGURATION" ADD COLUMN "MAX_ALLELES_PER_LOCUS" SMALLINT NOT NULL DEFAULT 6;\n\nDROP TABLE "APP"."INDIVIDUAL";\n\nDROP TABLE "APP"."PEDIGREE";\n\nDROP TABLE "APP"."COURT_CASE_PROFILES"	ALTER TABLE "APP"."ANALYSIS_TYPE" ADD COLUMN "LINKED" boolean NOT NULL default false;\n\nALTER TABLE "APP"."LOCUS" ADD COLUMN "CONTRIBUTORS_AFFECTED" boolean NOT NULL DEFAULT true;\n\nALTER TABLE "APP"."LOCUS_LINK" DROP COLUMN "FACTOR";\nALTER TABLE "APP"."LOCUS_LINK" DROP COLUMN "DISTANCE";\n\nALTER TABLE "APP"."COURT_CASE" ADD COLUMN "DELETED" boolean default false;\nALTER TABLE "APP"."COURT_CASE" DROP COLUMN "STATUS";\n\nALTER TABLE "APP"."CATEGORY_CONFIGURATION" ADD COLUMN "MAX_SHORTAGE_DEVIATED_LOCI" character varying(1024) NOT NULL DEFAULT '0';\nALTER TABLE "APP"."CATEGORY_CONFIGURATION" DROP COLUMN "MAX_ALLELES_PER_LOCUS";\n\nCREATE TABLE "APP"."PEDIGREE"\n(\n"ID" bigserial NOT NULL,\n"NAME" character varying(25) NOT NULL,\n"DESCRIPTION" character varying(250),\n"COURT_CASE" bigint NOT NULL,\nCONSTRAINT "PEDIGREE_COURT_CASE_FK" FOREIGN KEY ("COURT_CASE")\nREFERENCES "APP"."COURT_CASE" ("ID")\nON UPDATE NO ACTION ON DELETE NO ACTION,\nCONSTRAINT "PEDIGREE_PK" PRIMARY KEY ("ID"),\nCONSTRAINT "PEDIGREE_NAME_UNQ" UNIQUE ("NAME", "COURT_CASE")\n);\n\nCREATE TABLE "APP"."INDIVIDUAL"\n(\n"ID" bigserial NOT NULL,\n"PEDIGREE" bigint NOT NULL,\n"ALIAS" character varying(3) NOT NULL,\n"FATHER_ID" character varying(3),\n"MOTHER_ID" character varying(3),\n"SEX" character varying(10) NOT NULL,\n"GLOBAL_CODE" character varying(25),\n"UNKNOWN" boolean NOT NULL DEFAULT false,\nCONSTRAINT "INDIVIDUAL_PK" PRIMARY KEY ("ID", "PEDIGREE"),\nCONSTRAINT "GLOBAL_CODE_FK" FOREIGN KEY ("GLOBAL_CODE")\nREFERENCES "APP"."PROFILE_DATA" ("GLOBAL_CODE")\nON UPDATE NO ACTION ON DELETE NO ACTION,\nCONSTRAINT "PEDIGREE_FK" FOREIGN KEY ("PEDIGREE")\nREFERENCES "APP"."PEDIGREE" ("ID")\nON UPDATE NO ACTION ON DELETE NO ACTION,\nCONSTRAINT "ALIAS_PEDIGREE_UK" UNIQUE ("ALIAS", "PEDIGREE")\n);\n\nCREATE TABLE "APP"."COURT_CASE_PROFILES"\n(\n"COURT_CASE" bigint NOT NULL,\n"GLOBAL_CODE" character varying(100)  NOT NULL,\nCONSTRAINT "COURT_CASE_PROFILES_PK" PRIMARY KEY ("COURT_CASE", "GLOBAL_CODE"),\nCONSTRAINT "PROFILES_FK" FOREIGN KEY ("GLOBAL_CODE") REFERENCES "APP"."PROFILE_DATA" ("GLOBAL_CODE") ON UPDATE NO ACTION ON DELETE NO ACTION\n);	applied	
7	da0b8e4e5e8cdf965b9661c295698b50a5f9cc43	2022-10-22 00:00:00	CREATE TABLE "APP"."TRACE"\n(\n"ID" bigserial,\n"PROFILE" character varying(100) NOT NULL,\n"USER" character varying(50) NOT NULL,\n"DATE" timestamp NOT NULL,\n"TRACE" character varying NOT NULL,\n"KIND" character varying(100) NOT NULL,\nCONSTRAINT "APP_TRACE_ID_PKEY" PRIMARY KEY ("ID")\n);\n\nALTER TABLE "APP"."CATEGORY_CONFIGURATION"\nDROP CONSTRAINT "APP_CATEGORY_CONFIGURATION_CATEGORY_FK";\nALTER TABLE "APP"."CATEGORY_CONFIGURATION"\nADD CONSTRAINT "APP_CATEGORY_CONFIGURATION_CATEGORY_FK" FOREIGN KEY ("CATEGORY")\nREFERENCES "APP"."CATEGORY" ("ID")\nON UPDATE CASCADE ON DELETE CASCADE;\n\nALTER TABLE "APP"."CATEGORY_ALIAS"\nDROP CONSTRAINT "CATEGORY_ALIAS_FK";\nALTER TABLE "APP"."CATEGORY_ALIAS"\nADD CONSTRAINT "CATEGORY_ALIAS_FK" FOREIGN KEY ("CATEGORY")\nREFERENCES "APP"."CATEGORY" ("ID")\nON UPDATE CASCADE ON DELETE CASCADE;\n\nALTER TABLE "APP"."CATEGORY_ASSOCIATION"\nDROP CONSTRAINT "CATEGORY_ASSOCIATION_CATEGORY_FKEY";\nALTER TABLE "APP"."CATEGORY_ASSOCIATION"\nDROP CONSTRAINT "CATEGORY_ASSOCIATION_CATEGORY_RELATED_FKEY";\nALTER TABLE "APP"."CATEGORY_ASSOCIATION"\nADD CONSTRAINT "CATEGORY_ASSOCIATION_CATEGORY_FKEY" FOREIGN KEY ("CATEGORY")\nREFERENCES "APP"."CATEGORY" ("ID")\nON UPDATE CASCADE ON DELETE CASCADE;\nALTER TABLE "APP"."CATEGORY_ASSOCIATION"\nADD CONSTRAINT "CATEGORY_ASSOCIATION_CATEGORY_RELATED_FKEY" FOREIGN KEY ("CATEGORY_RELATED")\nREFERENCES "APP"."CATEGORY" ("ID")\nON UPDATE CASCADE ON DELETE CASCADE;\n\nALTER TABLE "APP"."CATEGORY_MATCHING"\nDROP CONSTRAINT "CATEGORY_MATCHING_CATEGORY_FKEY";\nALTER TABLE "APP"."CATEGORY_MATCHING"\nDROP CONSTRAINT "CATEGORY_MATCHING_CATEGORY_RELATED_FKEY";\nALTER TABLE "APP"."CATEGORY_MATCHING"\nADD CONSTRAINT "CATEGORY_MATCHING_CATEGORY_FKEY" FOREIGN KEY ("CATEGORY")\nREFERENCES "APP"."CATEGORY" ("ID")\nON UPDATE CASCADE ON DELETE CASCADE;\nALTER TABLE "APP"."CATEGORY_MATCHING"\nADD  CONSTRAINT "CATEGORY_MATCHING_CATEGORY_RELATED_FKEY" FOREIGN KEY ("CATEGORY_RELATED")\nREFERENCES "APP"."CATEGORY" ("ID")\nON UPDATE CASCADE ON DELETE CASCADE;\n\nALTER TABLE "APP"."CATEGORY_MATCHING" ADD COLUMN "CONSIDER_FOR_N" BOOLEAN NOT NULL DEFAULT TRUE;	DROP TABLE "APP"."TRACE";\n\nALTER TABLE "APP"."CATEGORY_CONFIGURATION"\nDROP CONSTRAINT "APP_CATEGORY_CONFIGURATION_CATEGORY_FK";\nALTER TABLE "APP"."CATEGORY_CONFIGURATION"\nADD CONSTRAINT "APP_CATEGORY_CONFIGURATION_CATEGORY_FK" FOREIGN KEY ("CATEGORY")\nREFERENCES "APP"."CATEGORY" ("ID")\nON UPDATE CASCADE ON DELETE RESTRICT;\n\nALTER TABLE "APP"."CATEGORY_ALIAS"\nDROP CONSTRAINT "CATEGORY_ALIAS_FK";\nALTER TABLE "APP"."CATEGORY_ALIAS"\nADD CONSTRAINT "CATEGORY_ALIAS_FK" FOREIGN KEY ("CATEGORY")\nREFERENCES "APP"."CATEGORY" ("ID")\nON UPDATE CASCADE ON DELETE RESTRICT;\n\nALTER TABLE "APP"."CATEGORY_ASSOCIATION"\nDROP CONSTRAINT "CATEGORY_ASSOCIATION_CATEGORY_FKEY";\nALTER TABLE "APP"."CATEGORY_ASSOCIATION"\nDROP CONSTRAINT "CATEGORY_ASSOCIATION_CATEGORY_RELATED_FKEY";\nALTER TABLE "APP"."CATEGORY_ASSOCIATION"\nADD CONSTRAINT "CATEGORY_ASSOCIATION_CATEGORY_FKEY" FOREIGN KEY ("CATEGORY")\nREFERENCES "APP"."CATEGORY" ("ID")\nON UPDATE CASCADE ON DELETE RESTRICT;\nALTER TABLE "APP"."CATEGORY_ASSOCIATION"\nADD CONSTRAINT "CATEGORY_ASSOCIATION_CATEGORY_RELATED_FKEY" FOREIGN KEY ("CATEGORY_RELATED")\nREFERENCES "APP"."CATEGORY" ("ID")\nON UPDATE CASCADE ON DELETE RESTRICT;\n\nALTER TABLE "APP"."CATEGORY_MATCHING"\nDROP CONSTRAINT "CATEGORY_MATCHING_CATEGORY_FKEY";\nALTER TABLE "APP"."CATEGORY_MATCHING"\nDROP CONSTRAINT "CATEGORY_MATCHING_CATEGORY_RELATED_FKEY";\nALTER TABLE "APP"."CATEGORY_MATCHING"\nADD CONSTRAINT "CATEGORY_MATCHING_CATEGORY_FKEY" FOREIGN KEY ("CATEGORY")\nREFERENCES "APP"."CATEGORY" ("ID")\nON UPDATE CASCADE ON DELETE RESTRICT;\nALTER TABLE "APP"."CATEGORY_MATCHING"\nADD  CONSTRAINT "CATEGORY_MATCHING_CATEGORY_RELATED_FKEY" FOREIGN KEY ("CATEGORY_RELATED")\nREFERENCES "APP"."CATEGORY" ("ID")\nON UPDATE CASCADE ON DELETE RESTRICT;\n\nALTER TABLE "APP"."CATEGORY_MATCHING" DROP COLUMN "CONSIDER_FOR_N";	applied	
8	0eab7cfdc8e1534c4f236af0c25066a2f2e322cc	2022-10-22 00:00:00	ALTER TABLE "APP"."PROFILE_DATA" DROP CONSTRAINT "PROFILE_DATA_INTERNAL_SAMPLE_CODE_KEY";\nCREATE UNIQUE INDEX "PROFILE_DATA_INTERNAL_SAMPLE_CODE_KEY" ON "APP"."PROFILE_DATA" ("INTERNAL_SAMPLE_CODE") WHERE "DELETED" = FALSE;	DROP INDEX "APP"."PROFILE_DATA_INTERNAL_SAMPLE_CODE_KEY";\n\nALTER TABLE "APP"."PROFILE_DATA"\nADD CONSTRAINT "PROFILE_DATA_INTERNAL_SAMPLE_CODE_KEY" UNIQUE("INTERNAL_SAMPLE_CODE");	applied	
9	c3067a3d8470067a0edc8349bb8817424925c2e9	2022-10-22 00:00:00	ALTER TABLE "APP"."ANALYSIS_TYPE" ADD COLUMN "MITOCHONDRIAL" BOOLEAN DEFAULT FALSE;	ALTER TABLE "APP"."ANALYSIS_TYPE" DROP COLUMN "MITOCHONDRIAL";	applied	
10	515a3461c83dfd84af1309ddae66058e4ebc8ffc	2022-10-22 00:00:00	CREATE TABLE   "APP"."CONNECTION"\n(\n"ID" bigserial,\n"NAME" character varying(200) NOT NULL,\n"URL" character varying(200) NOT NULL,\n"DELETED" boolean NOT NULL DEFAULT false,\nCONSTRAINT "APP_CONNECTION_ID_PKEY" PRIMARY KEY ("ID"),\nCONSTRAINT "APP_CONNECTION_NAME_UK" UNIQUE ("NAME")\n);\n\nCREATE TABLE "APP"."CATEGORY_MAPPING"\n(\n"ID" varchar(50),\n"ID_SUPERIOR" varchar(50),\nCONSTRAINT "APP_CATEGORY_MAPPING_ID_PKEY" PRIMARY KEY ("ID"),\nCONSTRAINT "APP_CATEGORY_MAPPING_FK" FOREIGN KEY ("ID")\nREFERENCES "APP"."CATEGORY" ("ID")\n);\n\nCREATE TABLE   "APP"."INSTANCE_STATUS"\n(\n"ID" bigserial,\n"STATUS" character varying(200) NOT NULL,\nCONSTRAINT "INSTANCE_STATUS_ID_PKEY" PRIMARY KEY ("ID"),\nCONSTRAINT "APP_INFERIOR_INSTANCE_STATUS_UK" UNIQUE ("STATUS")\n);\n\nCREATE TABLE   "APP"."INFERIOR_INSTANCE"\n(\n"ID" bigserial,\n"URL" character varying(200) NOT NULL,\n"LABORATORY" VARCHAR(50) NOT NULL,\n"STATUS" bigint DEFAULT 1,\nCONSTRAINT "APP_INFERIOR_INSTANCE_ID_PKEY" PRIMARY KEY ("ID"),\nCONSTRAINT "APP_INFERIOR_INSTANCE_URL_UK" UNIQUE ("URL"),\nCONSTRAINT "APP_INFERIOR_INSTANCE_LABORATORY_UK" UNIQUE ("LABORATORY"),\nCONSTRAINT "APP_INFERIOR_INSTANCE_STATUS_FK" FOREIGN KEY ("STATUS") REFERENCES "APP"."INSTANCE_STATUS" ("ID")\n);\n\nCREATE TABLE "APP"."EXTERNAL_PROFILE_DATA"\n(\n"ID" bigserial,\n"LABORATORY_INSTANCE_ORIGIN" TEXT NOT NULL,\n"LABORATORY_INSTANCE_INMEDIATE" TEXT NOT NULL,\nCONSTRAINT "EXTERNAL_PROFILE_DATA_PKEY" PRIMARY KEY ("ID")\n);\n\nCREATE TABLE "APP"."SUPERIOR_INSTANCE_PROFILE_APPROVAL"\n(\n"ID" bigserial,\n"GLOBAL_CODE" VARCHAR(100) NOT NULL\nCONSTRAINT "SUPERIOR_INSTANCE_PROFILE_APPROVAL_CODE_KEY"\nUNIQUE,\n"PROFILE" TEXT NOT NULL,\n"LABORATORY" VARCHAR(50) NOT NULL,\n"LABORATORY_INSTANCE_ORIGIN" VARCHAR(50) NOT NULL,\n"LABORATORY_INSTANCE_INMEDIATE" VARCHAR(50) NOT NULL,\n"SAMPLE_ENTRY_DATE" DATE,\n"RECEPTION_DATE" TIMESTAMP DEFAULT NOW(),\n"ERRORS" TEXT,\nCONSTRAINT "SUPERIOR_INSTANCE_PROFILE_APPROVAL_ID_PKEY" PRIMARY KEY ("ID")\n);	DROP TABLE "APP"."CONNECTION";\nDROP TABLE "APP"."CATEGORY_MAPPING";\nDROP TABLE "APP"."INFERIOR_INSTANCE";\nDROP TABLE "APP"."INSTANCE_STATUS";\nDROP TABLE "APP"."EXTERNAL_PROFILE_DATA";\nDROP TABLE "APP"."SUPERIOR_INSTANCE_PROFILE_APPROVAL";	applied	
11	a2c77ad32569d0bec0c30fb2261054e6738c30ee	2022-10-22 00:00:00	CREATE TABLE   "APP"."INFERIOR_INSTANCE_PROFILE_STATUS"\n(\n"ID" bigserial,\n"STATUS" character varying(200) NOT NULL,\nCONSTRAINT "INFERIOR_INSTANCE_PROFILE_STATUS_ID_PKEY" PRIMARY KEY ("ID"),\nCONSTRAINT "INFERIOR_INSTANCE_PROFILE_STATUS_UK" UNIQUE ("STATUS")\n);\n\nCREATE TABLE "APP"."PROFILE_UPLOADED"\n(\n"ID" bigserial,\n"GLOBAL_CODE" VARCHAR(100) NOT NULL\nUNIQUE,\n"STATUS" bigint,\nCONSTRAINT "PROFILE_UPLOADED_ID_PKEY" PRIMARY KEY ("ID"),\nCONSTRAINT "ID_PROFILE_DATA_UPLOADED_FKEY" FOREIGN KEY ("ID")\nREFERENCES "APP"."PROFILE_DATA" ("ID"),\nCONSTRAINT "PROFILE_UPLOADED_FK" FOREIGN KEY ("STATUS")\nREFERENCES "APP"."INFERIOR_INSTANCE_PROFILE_STATUS" ("ID")\n);	DROP TABLE "APP"."PROFILE_UPLOADED";\n\nDROP TABLE "APP"."INFERIOR_INSTANCE_PROFILE_STATUS";	applied	
12	78fc75028b39fa049f71bb1ef4b063ed3d1e103b	2022-10-22 00:00:00	CREATE TABLE "APP"."DISCLAIMER"\n(\n"ID" bigserial,\n"TEXT" TEXT NOT NULL,\nCONSTRAINT "DISCLAIMER_ID_PKEY" PRIMARY KEY ("ID")\n);	DROP TABLE "APP"."DISCLAIMER";	applied	
13	6a6c29920602c860a6faa3ab9e06e631eb07e5b6	2022-10-22 00:00:00	CREATE TABLE "APP"."MOTIVE_TYPE"\n(\n"ID" bigserial,\n"DESCRIPTION" TEXT NOT NULL,\nCONSTRAINT "MOTIVE_TYPE_PKEY" PRIMARY KEY ("ID")\n);\n\nCREATE TABLE "APP"."MOTIVE"\n(\n"ID" bigserial,\n"MOTIVE_TYPE" bigserial,\n"DESCRIPTION" TEXT NOT NULL,\n"FREE_TEXT" boolean,\n"DELETED" boolean,\nCONSTRAINT "MOTIVE_ID_PKEY" PRIMARY KEY ("ID"),\nCONSTRAINT "MOTIVE_TYPE_FK" FOREIGN KEY ("MOTIVE_TYPE") REFERENCES "APP"."MOTIVE_TYPE" ("ID")\n);\n\nCREATE TABLE "APP"."PROFILE_DATA_MOTIVE"\n(\n"ID" BIGSERIAL,\n"ID_PROFILE_DATA" bigint,\n"DELETED_DATE" TIMESTAMP,\n"ID_DELETED_MOTIVE" bigserial,\nCONSTRAINT "PROFILE_DATA_MOTIVE_PKEY" PRIMARY KEY ("ID"),\nCONSTRAINT "PROFILE_DATA_MOTIVE_PKEY_FK" FOREIGN KEY ("ID_PROFILE_DATA") REFERENCES "APP"."PROFILE_DATA" ("ID"),\nCONSTRAINT "PROFILE_DATA_MOTIVE_PKEY_FK2" FOREIGN KEY ("ID_DELETED_MOTIVE") REFERENCES "APP"."MOTIVE" ("ID")\n);\n\nALTER TABLE "APP"."PROTO_PROFILE" ADD COLUMN "ID_REJECT_MOTIVE" bigint NULL ;\nALTER TABLE "APP"."PROTO_PROFILE" ADD COLUMN "REJECTION_USER" TEXT;\nALTER TABLE "APP"."PROTO_PROFILE" ADD COLUMN "REJECTION_DATE" TIMESTAMP DEFAULT NULL;\nALTER TABLE "APP"."PROTO_PROFILE" ADD CONSTRAINT "REJECT_MOTIVE_FKEY"\nFOREIGN KEY ("ID_REJECT_MOTIVE") REFERENCES "APP"."MOTIVE" ("ID");\n\nALTER TABLE "APP"."PROFILE_UPLOADED" ADD COLUMN "MOTIVE" TEXT;\n\nALTER TABLE "APP"."SUPERIOR_INSTANCE_PROFILE_APPROVAL" ADD COLUMN "REJECTION_USER" TEXT;\nALTER TABLE "APP"."SUPERIOR_INSTANCE_PROFILE_APPROVAL" ADD COLUMN "REJECTION_DATE" TIMESTAMP;\nALTER TABLE "APP"."SUPERIOR_INSTANCE_PROFILE_APPROVAL" ADD COLUMN "ID_REJECT_MOTIVE" bigint;\nALTER TABLE "APP"."SUPERIOR_INSTANCE_PROFILE_APPROVAL" ADD COLUMN "REJECT_MOTIVE" TEXT;\nALTER TABLE "APP"."SUPERIOR_INSTANCE_PROFILE_APPROVAL" ADD COLUMN "DELETED" boolean;	ALTER TABLE "APP"."PROTO_PROFILE" DROP COLUMN  "ID_REJECT_MOTIVE";\nALTER TABLE "APP"."PROTO_PROFILE" DROP COLUMN  "REJECTION_USER";\nALTER TABLE "APP"."PROTO_PROFILE" DROP COLUMN  "REJECTION_DATE";\nALTER TABLE "APP"."PROFILE_UPLOADED" DROP COLUMN  "MOTIVE";\n\nALTER TABLE "APP"."SUPERIOR_INSTANCE_PROFILE_APPROVAL" DROP COLUMN  "REJECTION_USER";\nALTER TABLE "APP"."SUPERIOR_INSTANCE_PROFILE_APPROVAL" DROP COLUMN  "REJECTION_DATE";\nALTER TABLE "APP"."SUPERIOR_INSTANCE_PROFILE_APPROVAL" DROP COLUMN  "ID_REJECT_MOTIVE";\nALTER TABLE "APP"."SUPERIOR_INSTANCE_PROFILE_APPROVAL" DROP COLUMN  "REJECT_MOTIVE";\nALTER TABLE "APP"."SUPERIOR_INSTANCE_PROFILE_APPROVAL" DROP COLUMN  "DELETED";\n\nDROP TABLE "APP"."PROFILE_DATA_MOTIVE";\nDROP TABLE "APP"."MOTIVE";\nDROP TABLE "APP"."MOTIVE_TYPE";	applied	
14	84f6c6dc5a993240435575cb8d4e2aea3a80cdce	2022-10-22 00:00:00	ALTER TABLE "APP"."LOCUS" ADD COLUMN "REQUIRED" boolean NOT NULL DEFAULT true;	ALTER TABLE "APP"."LOCUS" DROP COLUMN "REQUIRED" ;	applied	
15	7979664eca8d14ee44a150ad9d1e5d5c60867b6d	2022-10-22 00:00:00	ALTER TABLE "APP"."CATEGORY" ADD COLUMN "ALLOW_MANUAL_LOADING" BOOLEAN DEFAULT TRUE;	ALTER TABLE "APP"."CATEGORY" DROP COLUMN "ALLOW_MANUAL_LOADING" ;	applied	
16	dc54c05b76795d2bf0c735090fa281368158a077	2022-10-22 00:00:00	ALTER TABLE "APP"."LOCUS" ADD COLUMN "MIN_ALLELE_VALUE" numeric(3,1) DEFAULT 0.0;\nALTER TABLE "APP"."LOCUS" ADD COLUMN "MAX_ALLELE_VALUE" numeric(3,1) DEFAULT 99.0;	ALTER TABLE "APP"."LOCUS" DROP COLUMN "MIN_ALLELE_VALUE";\n\nALTER TABLE "APP"."LOCUS" DROP COLUMN "MAX_ALLELE_VALUE";	applied	
17	2caafc2800673644da4805fb278dd0177f3063bf	2022-10-22 00:00:00	CREATE TABLE "APP"."MATCH_SEND_STATUS"\n(\n"ID" VARCHAR(100) ,\n"STATUS" bigint,\nCONSTRAINT "MATCH_SEND_STATUS_ID_PKEY" PRIMARY KEY ("ID"),\nCONSTRAINT "MATCH_SEND_STATUS_FK" FOREIGN KEY ("STATUS")\nREFERENCES "APP"."INFERIOR_INSTANCE_PROFILE_STATUS" ("ID")\n);	DROP TABLE "APP"."MATCH_SEND_STATUS";	applied	
18	48cca28ce821f2a40e8238aded35a441b5806a48	2022-10-22 00:00:00	ALTER TABLE "APP"."COURT_CASE" ADD COLUMN "CASE_TYPE" character varying(50);\n\nCREATE TABLE "APP"."CASE_TYPE"\n(\n"ID" character varying(50) NOT NULL,\nCONSTRAINT "CASE_TYPE_ID_PKEY" PRIMARY KEY ("ID")\n);\n\nALTER TABLE "APP"."COURT_CASE" ADD CONSTRAINT "CASE_TYPE_FK" FOREIGN KEY ("CASE_TYPE")\nREFERENCES "APP"."CASE_TYPE" ("ID");	ALTER TABLE "APP"."COURT_CASE" DROP COLUMN "CASE_TYPE";\n\nDROP TABLE "APP"."CASE_TYPE";	applied	
19	717a8d8efd071ea7ec7eb9f7f477757003168b07	2022-10-22 00:00:00	CREATE TABLE "APP"."COURT_CASE_DATA_FILIATION"\n(\n"ID" bigserial,\n"ID_COURT_CASE" bigserial NOT NULL,\n"FIRSTNAME" character varying(100),\n"LASTNAME" character varying(100),\n"SEX" character varying(50),\n"DATE_OF_BIRTH" date,\n"DATE_OF_BIRTH_FROM" date,\n"DATE_OF_BIRTH_TO" date,\n"DATE_OF_MISSING" date,\n"NATIONALITY" character varying(50),\n"IDENTIFICATION" character varying(50),\n"HEIGHT" character varying(50),\n"WEIGHT" character varying(50),\n"HAIRCOLOR" character varying(50),\n"SKINCOLOR" character varying(50),\n"CLOTHING" character varying(50),\nCONSTRAINT "COURT_CASE_DATA_FILIATION_PK" PRIMARY KEY ("ID"),\nCONSTRAINT "COURT_CASE_DATA_FILIATION_FK" FOREIGN KEY ("ID_COURT_CASE")\nREFERENCES "APP"."COURT_CASE" ("ID")\nON UPDATE NO ACTION ON DELETE NO ACTION\n);\nALTER TABLE "APP"."CASE_TYPE" ADD COLUMN "NAME" character varying(50) NOT NULL DEFAULT 'MPI';\n\nALTER TABLE "APP"."CASE_TYPE" ALTER COLUMN  "NAME" DROP DEFAULT;\n\nALTER TABLE "APP"."COURT_CASE" DROP COLUMN "FIRSTNAME";\nALTER TABLE "APP"."COURT_CASE" DROP COLUMN "LASTNAME";\nALTER TABLE "APP"."COURT_CASE" DROP COLUMN "SEX";\nALTER TABLE "APP"."COURT_CASE" DROP COLUMN "DATE_OF_BIRTH";\nALTER TABLE "APP"."COURT_CASE" DROP COLUMN "NATIONALITY";\nALTER TABLE "APP"."COURT_CASE" DROP COLUMN "IDENTIFICATION";\nALTER TABLE "APP"."COURT_CASE" DROP COLUMN "HEIGHT";\nALTER TABLE "APP"."COURT_CASE" DROP COLUMN "WEIGHT";\nALTER TABLE "APP"."COURT_CASE" DROP COLUMN "HAIRCOLOR";\nALTER TABLE "APP"."COURT_CASE" DROP COLUMN "SKINCOLOR";\nALTER TABLE "APP"."COURT_CASE" DROP COLUMN "CLOTHING";	DROP TABLE "APP"."COURT_CASE_DATA_FILIATION";\nALTER TABLE "APP"."CASE_TYPE" DROP COLUMN "NAME";\n\nALTER TABLE "APP"."COURT_CASE" ADD COLUMN "FIRSTNAME" character varying(100);\nALTER TABLE "APP"."COURT_CASE" ADD COLUMN "LASTNAME" character varying(100);\nALTER TABLE "APP"."COURT_CASE" ADD COLUMN "SEX" character varying(50);\nALTER TABLE "APP"."COURT_CASE" ADD COLUMN "DATE_OF_BIRTH" DATE ;\nALTER TABLE "APP"."COURT_CASE" ADD COLUMN "NATIONALITY" character varying(50);\nALTER TABLE "APP"."COURT_CASE" ADD COLUMN "IDENTIFICATION" character varying(50);\nALTER TABLE "APP"."COURT_CASE" ADD COLUMN "HEIGHT" character varying(50);\nALTER TABLE "APP"."COURT_CASE" ADD COLUMN "WEIGHT" character varying(50);\nALTER TABLE "APP"."COURT_CASE" ADD COLUMN "HAIRCOLOR" character varying(50);\nALTER TABLE "APP"."COURT_CASE" ADD COLUMN "SKINCOLOR" character varying(50);\nALTER TABLE "APP"."COURT_CASE" ADD COLUMN "CLOTHING" character varying(50);	applied	
20	9f870f6c0d26de491cc2ae99913bb3b8d1419388	2022-10-22 00:00:00	ALTER TABLE "APP"."BATCH_PROTO_PROFILE" ADD COLUMN "LABEL" character varying(50);	ALTER TABLE "APP"."BATCH_PROTO_PROFILE" DROP COLUMN "LABEL";	applied	
21	4b9fa2cdd9db55079c460832d197eb1313da8b34	2022-10-22 00:00:00	CREATE TABLE "APP"."COURT_CASE_PROFILE"\n(\n"ID_COURT_CASE" bigint NOT NULL,\n"GLOBAL_CODE" character varying(100) NOT NULL,\nCONSTRAINT "PROFILES_COURT_CASE_PKEY" PRIMARY KEY ("GLOBAL_CODE","ID_COURT_CASE"),\nCONSTRAINT "CASE_TYPE_FK1" FOREIGN KEY ("ID_COURT_CASE") REFERENCES "APP"."COURT_CASE" ("ID"),\nCONSTRAINT "CASE_TYPE_FK2" FOREIGN KEY ("GLOBAL_CODE") REFERENCES "APP"."PROFILE_DATA" ("GLOBAL_CODE")\n);	DROP TABLE "APP"."COURT_CASE_PROFILE";	applied	
22	9fd1257a2a021b8c1123b446ad2dac0d25264a7a	2022-10-22 00:00:00	CREATE TABLE "APP"."PEDIGREE"\n(\n"ID" bigserial,\n"ID_COURT_CASE" bigint NOT NULL,\n"NAME" character varying(100) NOT NULL,\n"CREATION_DATE" timestamp NOT NULL,\n"STATUS" character varying(50) NOT NULL DEFAULT 'UnderConstruction'::character varying,\nCONSTRAINT "PREDIGREE_PK" PRIMARY KEY ("ID"),\nCONSTRAINT "PEDIGREE_COURT_CASE_FK" FOREIGN KEY ("ID_COURT_CASE") REFERENCES "APP"."COURT_CASE" ("ID")\n);	DROP TABLE "APP"."PEDIGREE";	applied	
23	77c6e26f291d2f8f84419b257b957f2efc5172f5	2022-10-22 00:00:00	ALTER TABLE "APP"."PEDIGREE" ADD COLUMN "ASSIGNEE" character varying(50) NOT NULL DEFAULT 'tst-admintist';\n\n-- poner el update con el asignee del caso buscar!\n\nALTER TABLE "APP"."PEDIGREE" ALTER COLUMN  "ASSIGNEE" DROP DEFAULT;	ALTER TABLE "APP"."PEDIGREE" DROP COLUMN "ASSIGNEE";	applied	
24	fd826684d4871bc6d285c57645ed89c993c30cf2	2022-10-22 00:00:00	ALTER TABLE "APP"."COURT_CASE_PROFILE" ADD COLUMN "PROFILE_TYPE" character varying(50) NOT NULL DEFAULT 'Referencia';\nALTER TABLE "APP"."COURT_CASE_PROFILE" ALTER COLUMN "PROFILE_TYPE" DROP DEFAULT;	ALTER TABLE "APP"."COURT_CASE_PROFILE" DROP COLUMN "PROFILE_TYPE";	applied	
25	4cdce0edaad298d6390210303d572b693667650e	2022-10-22 00:00:00	ALTER TABLE "APP"."SUPERIOR_INSTANCE_PROFILE_APPROVAL" ADD COLUMN "PROFILE_ASSOCIATED" TEXT;\n\ncreate table "APP"."MATCH_UPDATE_SEND_STATUS"\n(\n"ID" varchar(100) not null,\n"TARGET_LAB" text not null,\n"MESSAGE" text,\n"STATUS" bigint\nconstraint MATCH_UPDATE_SEND_STATUS_FK1\nreferences "APP"."INFERIOR_INSTANCE_PROFILE_STATUS",\n"DATE" timestamp default now(),\nconstraint "MATCH_UPDATE_SEND_STATUS_ID_PKEY"\nprimary key ("ID", "TARGET_LAB")\n)\n;\n\nDROP TABLE IF EXISTS "APP"."MATCH_SEND_STATUS";\n\nCREATE TABLE "APP"."MATCH_SEND_STATUS"\n(\n"ID"         VARCHAR(100) NOT NULL,\n"TARGET_LAB" TEXT         NOT NULL,\n"MESSAGE"    TEXT,\n"STATUS"     BIGINT\nCONSTRAINT MATCH_SEND_STATUS_FK1\nREFERENCES "APP"."INFERIOR_INSTANCE_PROFILE_STATUS",\n"DATE"       TIMESTAMP DEFAULT now(),\nCONSTRAINT "MATCH_SEND_STATUS_ID_PKEY"\nPRIMARY KEY ("ID", "TARGET_LAB")\n);\n\nCREATE TABLE "APP"."PROFILE_SENT"\n(\n"ID" bigserial,\n"LABCODE" TEXT,\n"GLOBAL_CODE" VARCHAR(100) NOT NULL,\n"STATUS" bigint,\n"MOTIVE" TEXT,\nCONSTRAINT "PROFILE_SENT_ID_PKEY" PRIMARY KEY ("ID","LABCODE"),\nCONSTRAINT "ID_PROFILE_DATA_SENT_FKEY" FOREIGN KEY ("ID")\nREFERENCES "APP"."PROFILE_DATA" ("ID"),\nCONSTRAINT "PROFILE_SENT_FK" FOREIGN KEY ("STATUS")\nREFERENCES "APP"."INFERIOR_INSTANCE_PROFILE_STATUS" ("ID")\n);	ALTER TABLE "APP"."SUPERIOR_INSTANCE_PROFILE_APPROVAL" DROP COLUMN "PROFILE_ASSOCIATED";\n\nDROP TABLE "APP"."MATCH_UPDATE_SEND_STATUS";\n\nDROP TABLE IF EXISTS"APP"."PROFILE_SENT";	applied	
26	cacbd35263bf10b524865d09571fee81df82226b	2022-10-22 00:00:00	create table "APP"."FILE_SENT"\n(\n"ID" varchar(100) not null,\n"TARGET_LAB" text not null,\n"STATUS" bigint\nconstraint FILE_SENT_FK1\nreferences "APP"."INFERIOR_INSTANCE_PROFILE_STATUS",\n"DATE" timestamp default now(),\n"FILE_TYPE" text not null,\nconstraint "FILE_SENT_ID_PKEY"\nprimary key ("ID", "TARGET_LAB")\n)\n;	DROP TABLE IF EXISTS "APP"."FILE_SENT";	applied	
27	a597f385c884aa1f7ee70ed14850d02bf8cd798e	2022-10-22 00:00:00	ALTER TABLE "APP"."COURT_CASE_DATA_FILIATION" ADD COLUMN "ALIAS" CHARACTER VARYING (50) NOT NULL;\nALTER TABLE "APP"."COURT_CASE_DATA_FILIATION" ADD COLUMN "PARTICULARITIES" CHARACTER VARYING (50);\nALTER TABLE "APP"."COURT_CASE_DATA_FILIATION" ADD CONSTRAINT "COURTCASE_FILIATION_UK" UNIQUE ("ALIAS", "ID_COURT_CASE");	ALTER TABLE "APP"."COURT_CASE_DATA_FILIATION" DROP COLUMN "ALIAS";\nALTER TABLE "APP"."COURT_CASE_DATA_FILIATION" DROP COLUMN "PARTICULARITIES";\nALTER TABLE "APP"."COURT_CASE_DATA_FILIATION" DROP CONSTRAINT "COURTCASE_FILIATION_UK";	applied	
28	4562436922b4baa0b9fa9f3fb8e7face2c2b2cd9	2022-10-22 00:00:00	ALTER TABLE "APP"."COURT_CASE_PROFILE" ADD COLUMN "GROUPED_BY" character varying(100) ;\n\nALTER TABLE "APP"."COURT_CASE_PROFILE" ADD CONSTRAINT "CASE_TYPE_FK_GB"\nFOREIGN KEY ("GROUPED_BY") REFERENCES "APP"."PROFILE_DATA" ("GLOBAL_CODE");	ALTER TABLE "APP"."COURT_CASE_PROFILE" DROP COLUMN "GROUPED_BY";	applied	
29	babd455f528899a5cfe837190e7def3a9c2b3528	2022-10-22 00:00:00	create table "APP"."MUTATION_MODEL_TYPE"\n(\n"ID" bigserial,\n"DESCRIPTION" text not null,\nprimary key ("ID")\n);\ncreate table "APP"."MUTATION_MODEL"\n(\n"ID" bigserial not null,\n"NAME" text not null,\n"MUTATION_MODEL_TYPE" BIGINT not null,\n"ACTIVE" BOOLEAN not null,\n"IGNORE_SEX" BOOLEAN not null,\nprimary key ("ID"),\nCONSTRAINT "MUTATION_MODEL_FK" FOREIGN KEY ("MUTATION_MODEL_TYPE")\nREFERENCES "APP"."MUTATION_MODEL_TYPE" ("ID")\n);\n\ncreate table "APP"."MUTATION_MODEL_PARAMETER"\n(\n"ID" bigserial not null,\n"ID_MUTATION_MODEL" BIGINT not null,\n"LOCUS" character varying(50) not null,\n"SEX" VARCHAR(1) not null,\n"MUTATION_RATE" numeric(10,8),\n"MUTATION_RANGE" numeric(10,8),\n"MUTATION_RATE_MICROVARIANT" numeric(10,8),\nprimary key ("ID"),\nCONSTRAINT "MUTATION_MODEL_PARAMETERS_FK" FOREIGN KEY ("ID_MUTATION_MODEL")\nREFERENCES "APP"."MUTATION_MODEL" ("ID"),\nCONSTRAINT "MUTATION_MODEL_PARAMETERS_UK" UNIQUE ("ID_MUTATION_MODEL","LOCUS","SEX"),\nCONSTRAINT "MUTATION_MODEL_PARAMETERS_FK2" FOREIGN KEY ("LOCUS")\nREFERENCES "APP"."LOCUS" ("ID")\n);\n\nCREATE INDEX "MUTATION_MODEL_PARAMETERS_IDX1" ON "APP"."MUTATION_MODEL_PARAMETER" ("ID_MUTATION_MODEL");\n\ncreate table "APP"."MUTATION_MODEL_KI"\n(\n"ID" bigserial not null,\n"ID_MUTATION_MODEL_PARAMETER" BIGINT not null,\n"ALLELE" double precision NOT NULL,\n"KI" numeric(10,8) NOT NULL,\nprimary key ("ID"),\nCONSTRAINT "MUTATION_MODEL_KI_FK" FOREIGN KEY ("ID_MUTATION_MODEL_PARAMETER")\nREFERENCES "APP"."MUTATION_MODEL_PARAMETER" ("ID")\n);\nCREATE INDEX "MUTATION_MODEL_KI_IDX1" ON "APP"."MUTATION_MODEL_KI" ("ID_MUTATION_MODEL_PARAMETER");\n\ncreate table "APP"."MUTATION_DEFAULT_PARAMETER"\n(\n"ID" bigserial not null,\n"LOCUS" character varying(50) not null,\n"SEX" VARCHAR(1) not null,\n"MUTATION_RATE" numeric(10,8) NOT NULL,\nprimary key ("ID")\n);\n\ncreate table "APP"."LOCUS_ALLELE"\n(\n"ID" bigserial not null,\n"LOCUS" character varying(50) not null,\n"ALLELE" double precision NOT NULL,\nprimary key ("ID")\n);	DROP TABLE IF EXISTS  "APP"."MUTATION_MODEL_KI";\nDROP TABLE IF EXISTS  "APP"."MUTATION_MODEL_PARAMETER";\nDROP TABLE IF EXISTS  "APP"."MUTATION_MODEL";\nDROP TABLE IF EXISTS  "APP"."MUTATION_MODEL_TYPE";\nDROP TABLE IF EXISTS  "APP"."MUTATION_DEFAULT_PARAMETER";\nDROP TABLE IF EXISTS  "APP"."LOCUS_ALLELE";	applied	
\.


--
-- Name: play_evolutions play_evolutions_pkey; Type: CONSTRAINT; Schema: public; Owner: genissqladmin
--

ALTER TABLE ONLY public.play_evolutions
    ADD CONSTRAINT play_evolutions_pkey PRIMARY KEY (id);


--
-- PostgreSQL database dump complete
--

